(this.webpackJsonpsmartathome=this.webpackJsonpsmartathome||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(15),a=n.n(i),l=(n(63),n(64),n(65),n(66),n(13));n(116);n.p;n.p;n.p;n.p;var j=n(33),r=n(50),d=n.n(r),o=n(51),b=n.n(o),O=n(53),m=n.n(O),u=n(54),h=n.n(u),x=n(52),v=n.n(x),f=n(1);function p(e){return Object(f.jsxs)("div",{className:"loadingSpinner-div",children:[Object(f.jsx)("svg",{className:e.style+" svg-spinner",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("circle",{cx:"50",cy:"50",r:"45"})}),Object(f.jsxs)("h1",{className:"loadingSpinner-text",children:[Object(f.jsx)("span",{children:"L"}),Object(f.jsx)("span",{children:"a"}),Object(f.jsx)("span",{children:"d"}),Object(f.jsx)("span",{children:"e"}),Object(f.jsx)("span",{children:"n"}),Object(f.jsx)("span",{children:"."}),Object(f.jsx)("span",{children:"."}),Object(f.jsx)("span",{children:"."})]})]})}var S=n(117),y=n(3);function N(e){var t=Object(c.useState)(null),n=Object(l.a)(t,2),s=n[0],i=n[1],a=Object(c.useState)(!1),r=Object(l.a)(a,2),d=r[0],o=r[1],b=Object(c.useState)([]),O=Object(l.a)(b,2),m=O[0],u=O[1],h=Object(c.useState)(-1),x=Object(l.a)(h,2),v=x[0],N=x[1],I=Object(c.useState)(e.name),z=Object(l.a)(I,2),k=z[0],C=z[1],M=Object(c.useState)(null),E=Object(l.a)(M,2),J=E[0],L=E[1],B=Object(y.f)(),D=B.stop,F=void 0===D?k:D,R=B.amount,U=void 0===R?15:R,V=B.offset,Z=void 0===V?0:V,q=100*v/300;return Object(c.useEffect)((function(){j.findStop(F).then((function(e){C(e[0].name),A(e[0].id)}),(function(){A("33000146")}))}),[]),Object(c.useEffect)((function(){var e=v<=310&&setInterval((function(){return N(v+1)}),100);return v>310&&(N(0),A(J)),function(){return clearInterval(e)}}),[v]),s?Object(f.jsx)(T,{title:"Fehler",content:Object(f.jsx)("h2",{children:s.message})}):d?Object(f.jsxs)("div",{className:"monitor-div",children:[Object(f.jsx)("h1",{children:k}),Object(f.jsx)("table",{className:"table-dvb",cellSpacing:"10",children:Object(f.jsx)("tbody",{children:m.map((function(e){return Object(f.jsxs)("tr",{id:e.id+e.scheduledTime.getTime(),children:[Object(f.jsx)("td",{className:"linie-tr",children:Object(f.jsx)(g,{name:e.mode.name,linie:e.line})}),Object(f.jsxs)("td",{children:[Object(f.jsx)("div",{children:e.direction}),Object(f.jsxs)("small",{children:["Steig ",e.platform.name]})]}),Object(f.jsx)("td",{children:Object(f.jsx)(w,{linie:e})})]},e.id+e.scheduledTime.getTime())}))})}),Object(f.jsx)(S.a,{variant:"determinate",color:"secondary",value:q>=102?0:q})]}):Object(f.jsx)(T,{title:k,content:Object(f.jsx)(p,{style:"spinner-pos"})});function A(){L(arguments[0]),j.monitor(arguments[0],Z,U).then((function(e){i(null),o(!0),u(e)}),(function(e){o(!0),i(e)}))}}function T(e){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"monitor-div",children:[Object(f.jsx)("h1",{children:e.title}),Object(f.jsx)("div",{className:"main-div dropShadow",children:e.content})]})})}function g(e){return Object(f.jsx)("div",{className:e.name.toLowerCase(),children:e.linie})}function w(e){var t=e.linie.arrivalTime||e.linie.scheduledTime,n=e.linie.arrivalTimeRelative||e.linie.scheduledTimeRelative;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:n>0?"in "+(n>90?Math.floor(n/60)+" St.":n+" Min."):n<0&&"InTime"===e.linie.state?"Vor Zeitplan":"Jetzt"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"statusIcon",children:Object(f.jsx)(I,{state:e.linie.state,delayTime:e.linie.delayTime})}),"Canceled"!==e.linie.state&&Object(f.jsx)("small",{className:"Delayed"===e.linie.state?"delayedIcon":"",children:t.toLocaleTimeString([],{timeStyle:"short"})+" Uhr"})]})]})}function I(e){switch(e.state){case"InTime":return Object(f.jsx)(d.a,{className:"onTimeIcon",style:{fontSize:15}});case"Delayed":return Object(f.jsxs)("div",{className:"delayedIcon",children:[Object(f.jsx)(b.a,{style:{fontSize:15}}),Object(f.jsxs)("small",{className:"delayTime",children:["+",e.delayTime]}),Object(f.jsx)(v.a,{className:"delayCalenderIcon",style:{fontSize:15}})]});case"Canceled":return Object(f.jsxs)("div",{className:"cancelIcon",children:[Object(f.jsx)(m.a,{style:{fontSize:15}}),Object(f.jsx)("small",{className:"cancelText",children:"F\xe4llt aus"})]});case"Unknown":return Object(f.jsx)(h.a,{className:"unknownIcon",style:{fontSize:15}});default:return Object(f.jsx)("div",{children:"No State"})}}var z=n(32);var k=function(){return Object(f.jsx)(z.a,{children:Object(f.jsx)(y.c,{children:Object(f.jsx)(y.a,{exact:!0,path:"/:stop?/:amount?/:offset?",component:function(){return Object(f.jsx)(N,{name:"Malterstra\xdfe"})}})})})};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root"))},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.393e125e.chunk.js.map